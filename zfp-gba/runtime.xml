<?xml version="1.0" ?>

<gprconfig>
  <configuration>
    <config><![CDATA[
   type Loaders is ("USER");
   Loader : Loaders := external("LOADER", "USER");

   package Compiler is
      Common_Required_Switches := ("-mlittle-endian", "-mthumb", "-marm", "-mthumb-interwork", "-msoft-float");

      for Leading_Required_Switches ("Ada") use
         Compiler'Leading_Required_Switches ("Ada") &
         Common_Required_Switches;
      for Leading_Required_Switches ("C") use
         Compiler'Leading_Required_Switches ("C") &
         Common_Required_Switches;
      for Leading_Required_Switches ("Asm") use
         Compiler'Leading_Required_Switches ("Asm") &
         Common_Required_Switches;
      for Leading_Required_Switches ("Asm2") use
         Compiler'Leading_Required_Switches ("Asm2") &
         Common_Required_Switches;
      for Leading_Required_Switches ("Asm_Cpp") use
         Compiler'Leading_Required_Switches ("Asm_Cpp") &
         Common_Required_Switches;
   end Compiler;

   for Library_Support use "static_only";
   for Library_Builder use "${GPRCONFIG_PREFIX}\libexec\gprbuild\gprlib.exe";
   for Archive_Builder use ("${GPRCONFIG_PREFIX}\bin\arm-sweetada-eabi-ar.exe", "cr");

   Lto_Plugin := "${GPRCONFIG_PREFIX}\libexec\gcc\arm-sweetada-eabi\11.1.0\liblto_plugin.dll";

   package Builder is
      for Executable_Suffix use "";
   end Builder;

   package Linker is
      for Required_Switches use Linker'Required_Switches &
         ("-Wl,-L${RUNTIME_DIR(Ada)}/adalib,-plugin," & Lto_Plugin
         , "-nostartfiles", "-nolibc"
         -- , "-L${RUNTIME_DIR(ada)}/ld_user"
         -- , "-Tgba_cart.ld"
         ) &
         Compiler.Common_Required_Switches;

      case Loader is
         when "USER" =>
      end case;
   end Linker;
]]>
   </config>
  </configuration>
</gprconfig>
